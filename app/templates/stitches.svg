<svg width="70%" height="700px" viewBox="0 0 {{1.38 + 310 * maxcols}} {{1.25 + 228 * lines|length}}" fill="none" xmlns="http://www.w3.org/2000/svg">
<rect width="{{1.38 + 310 * maxcols}}" height="{{1.25 + 228 * lines|length}}" fill="{{colour}}" />
{% for i in range(lines|length) %}
{% for j in range(lines[i]|length) %}
{%if lines[i][j] == 'K' %}
<svg x="{{1.38 + j * 310}}" y="{{i * 228}}" width="316" height="253" viewBox="0 0 316 253" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M171.236 0.793637C165.549 0.899025 160.101 0.999993 155 0.999993V11C160.471 11 166.17 10.8954 172.02 10.7881C190.462 10.4496 210.399 10.0838 229.376 12.8816C254.2 16.5411 276.11 25.4787 289.636 46.0818C293.327 51.7034 296.449 62.1069 299.068 73.9429C300.866 82.0698 302.326 90.3492 303.598 97.5626C303.783 98.6138 303.965 99.6423 304.142 100.644C292.62 101.431 269.636 103.855 244.688 106.959C213.975 110.781 179.638 115.717 158.822 120.138C156.709 120.587 155.123 122.343 154.89 124.491C154.157 131.258 153.995 137.719 154.369 143.889C153.839 171.528 153.852 204.713 153.859 224.883C153.86 227.085 153.861 229.132 153.861 231H163.861C163.861 229.132 163.86 227.089 163.859 224.893C163.855 213.09 163.849 196.89 163.95 179.976C169.142 190.208 176.274 199.332 185.036 207.471C207.01 227.88 239.022 241.911 275.634 252.31L278.366 242.69C242.301 232.446 212.094 218.953 191.842 200.144C175.805 185.249 165.881 166.914 164.375 143.678C164.474 138.595 164.591 133.707 164.73 129.131C185.346 125.009 217.076 120.472 245.923 116.883C276.76 113.046 303.657 110.373 310.082 110.373C311.57 110.373 312.98 109.71 313.93 108.565C314.88 107.42 315.271 105.912 314.996 104.45C314.536 101.999 314.037 99.1727 313.495 96.0997C312.209 88.8075 310.678 80.1268 308.832 71.7827C306.244 60.0853 302.826 47.9503 297.996 40.5937C293.508 33.7576 288.252 28.0788 282.426 23.3635C291.982 24.5249 302.977 25.5 313 25.5V15.5C301.092 15.5 287.497 14.0338 276.782 12.5426C271.445 11.8 266.865 11.0573 263.623 10.5009C262.002 10.2228 260.717 9.99149 259.841 9.8304C259.403 9.74987 259.067 9.68691 258.843 9.64444C258.731 9.6232 258.647 9.6071 258.591 9.59648L258.513 9.58147C258.513 9.58148 258.513 9.58143 258.455 9.8794C249.636 6.54706 240.293 4.38295 230.835 2.98853C210.954 0.05759 189.821 0.449222 171.236 0.793637Z" fill="black"/>
<path d="M298.992 52.0913L313.32 102.279V22.5913L279.492 20.5913L298.992 52.0913Z" fill="black" fill-opacity="0.5"/>
<path d="M181.5 197.276L159.201 154.276V233.023H234L181.5 197.276Z" fill="black" fill-opacity="0.5"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M144.764 0.793637C150.451 0.899025 155.899 0.999993 161 0.999993V11C155.529 11 149.83 10.8954 143.98 10.7881C125.538 10.4496 105.601 10.0838 86.624 12.8816C61.8005 16.5411 39.8899 25.4787 26.3635 46.0818C22.6728 51.7034 19.5506 62.1069 16.932 73.9429C15.1339 82.0698 13.6741 90.3492 12.4022 97.5626C12.2168 98.6138 12.0354 99.6423 11.8576 100.644C23.3803 101.431 46.3637 103.855 71.312 106.959C102.025 110.781 136.362 115.717 157.178 120.138C159.291 120.587 160.877 122.343 161.11 124.491C161.843 131.258 162.005 137.719 161.631 143.889C162.161 171.528 162.148 204.713 162.141 224.883C162.14 227.085 162.139 229.132 162.139 231H152.139C152.139 229.132 152.14 227.089 152.141 224.893C152.145 213.09 152.151 196.89 152.05 179.976C146.858 190.208 139.726 199.332 130.964 207.471C108.99 227.88 76.978 241.911 40.3661 252.31L37.6338 242.69C73.699 232.446 103.906 218.953 124.158 200.144C140.195 185.249 150.119 166.914 151.625 143.678C151.526 138.595 151.409 133.707 151.27 129.131C130.654 125.009 98.924 120.472 70.077 116.883C39.2404 113.046 12.3426 110.373 5.91791 110.373C4.43021 110.373 3.01981 109.71 2.06991 108.565C1.11991 107.42 0.729207 105.912 1.00381 104.45C1.46411 101.999 1.96261 99.1727 2.50461 96.0997C3.79091 88.8075 5.32201 80.1268 7.16811 71.7827C9.75611 60.0853 13.1744 47.9503 18.0041 40.5937C22.4921 33.7576 27.7483 28.0788 33.5743 23.3635C24.0184 24.5249 13.0234 25.5 3.00001 25.5V15.5C14.9079 15.5 28.5026 14.0338 39.2184 12.5426C44.555 11.8 49.135 11.0573 52.3773 10.5009C53.9979 10.2228 55.2826 9.99149 56.1588 9.8304C56.5968 9.74987 56.9326 9.68691 57.157 9.64444C57.2692 9.6232 57.3535 9.6071 57.4088 9.59648L57.4868 9.58147C57.4867 9.58148 57.487 9.58143 57.5448 9.8794C66.364 6.54706 75.707 4.38295 85.165 2.98853C105.046 0.05759 126.179 0.449222 144.764 0.793637Z" fill="black"/>
<path d="M17.0076 52.0913L2.68005 102.279V22.5913L36.5076 20.5913L17.0076 52.0913Z" fill="black" fill-opacity="0.5"/>
<path d="M134.5 197.276L156.799 154.276V233.023H82L134.5 197.276Z" fill="black" fill-opacity="0.5"/>
</svg>
{% else %}
<svg x="{{j * 310}}" y="{{1.25 + i * 228}}" width="320" height="247" viewBox="0 0 320 247" fill="none">
<path fill-rule="evenodd" clip-rule="evenodd" d="M148.72 155.632C154.832 148.009 158.544 136.243 160.906 123.214C163.323 109.886 164.456 94.4418 164.902 78.9985C165.518 57.7009 164.827 35.8427 164.303 19.2964C164.072 11.9745 163.873 5.69264 163.835 0.959869L153.835 1.04011C153.876 6.14569 154.084 12.6741 154.322 20.1739C154.844 36.6053 155.514 57.6995 154.907 78.7095C154.467 93.9269 153.355 108.808 151.067 121.43C149.426 130.477 147.243 137.983 144.508 143.569C140.877 134.034 136.582 124.798 131.51 116.563C117.768 94.2546 96.5082 68.7454 78.8346 48.9458C69.9701 39.0149 61.9554 30.4627 56.1555 24.3918C53.255 21.3557 50.9068 18.9385 49.2814 17.278C48.4686 16.4476 47.8364 15.8064 47.4061 15.3713C47.1909 15.1538 47.0262 14.9879 46.9146 14.8756L46.743 14.7033C46.7423 14.7026 46.7418 14.7021 43.2041 18.2354L46.7418 14.7021L45.1396 13.0978L42.8771 13.2461C33.0349 13.8912 6.74944 14.2354 3.49996 14.2354V24.2354C5.52041 24.2354 16.4309 24.1047 26.8798 23.8472C11.3403 42.9929 4.67989 66.7725 2.10787 88.7449C-0.509572 111.105 1.05724 132.07 2.14923 145.207C4.38501 172.104 12.894 207.924 36.7434 246.623L45.2566 241.377C22.3247 204.166 14.236 169.896 12.1149 144.378C11.0285 131.308 9.54754 111.201 12.0401 89.9076C14.536 68.5851 20.9667 46.5475 35.3296 29.3158C36.5507 27.8509 37.7581 27.1951 39.5547 26.3682C39.7116 26.296 39.8772 26.2211 40.0506 26.1427C40.8104 25.7991 41.719 25.3882 42.6921 24.8427C44.2549 26.4433 46.3723 28.6278 48.9249 31.2996C54.6659 37.3089 62.6013 45.7766 71.3743 55.605C88.9758 75.3237 109.74 100.29 122.996 121.808C135.327 141.827 143 168.833 147.579 191.182C149.855 202.292 151.342 212.125 152.26 219.175C152.718 222.698 153.034 225.522 153.234 227.458C153.334 228.425 153.405 229.171 153.451 229.67C153.474 229.92 153.491 230.108 153.502 230.232L153.513 230.368L153.516 230.4L153.517 230.406C153.517 230.406 153.517 230.406 158.5 230C163.483 229.594 163.483 229.593 163.483 229.591L163.482 229.575L163.478 229.531L163.464 229.368C163.452 229.228 163.434 229.022 163.409 228.754C163.36 228.219 163.285 227.436 163.181 226.428C162.972 224.414 162.647 221.503 162.176 217.885C161.235 210.651 159.711 200.573 157.375 189.175C155.248 178.793 152.428 167.209 148.72 155.632Z" fill="black"/>
<path d="M40.5 244.5L5 245.5V154L19 200.5L40.5 244.5Z" fill="black" fill-opacity="0.5"/>
<path d="M154.802 201.707C158.674 212.259 160.063 210.865 160.063 210.865V117.324L147.53 151C147.53 151 148.314 184.025 154.802 201.707Z" fill="black" fill-opacity="0.5"/>
<path d="M19.0076 50.0913L4.68018 100.279V20.5913L38.5076 18.5913L19.0076 50.0913Z" fill="black" fill-opacity="0.5"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M171.28 155.632C165.169 148.009 161.456 136.243 159.094 123.214C156.677 109.886 155.544 94.4418 155.098 78.9985C154.482 57.7009 155.173 35.8427 155.697 19.2964C155.928 11.9745 156.127 5.69264 156.165 0.959869L166.165 1.04011C166.124 6.14569 165.916 12.6741 165.678 20.1739C165.156 36.6053 164.486 57.6995 165.093 78.7095C165.533 93.9269 166.645 108.808 168.933 121.43C170.574 130.477 172.757 137.983 175.492 143.569C179.123 134.034 183.418 124.798 188.49 116.563C202.232 94.2546 223.492 68.7454 241.165 48.9458C250.03 39.0149 258.045 30.4627 263.844 24.3918C266.745 21.3557 269.093 18.9385 270.719 17.278C271.531 16.4476 272.164 15.8064 272.594 15.3713C272.809 15.1538 272.974 14.9879 273.085 14.8756L273.257 14.7033C273.258 14.7026 273.258 14.7021 276.796 18.2354L273.258 14.7021L274.86 13.0978L277.123 13.2461C286.965 13.8912 313.251 14.2354 316.5 14.2354V24.2354C314.48 24.2354 303.569 24.1047 293.12 23.8472C308.66 42.9929 315.32 66.7725 317.892 88.7449C320.51 111.105 318.943 132.07 317.851 145.207C315.615 172.104 307.106 207.924 283.257 246.623L274.743 241.377C297.675 204.166 305.764 169.896 307.885 144.378C308.972 131.308 310.452 111.201 307.96 89.9076C305.464 68.5851 299.033 46.5475 284.67 29.3158C283.449 27.8509 282.242 27.1951 280.445 26.3682C280.288 26.296 280.123 26.2211 279.949 26.1427C279.19 25.7991 278.281 25.3882 277.308 24.8427C275.745 26.4433 273.628 28.6278 271.075 31.2996C265.334 37.3089 257.399 45.7766 248.626 55.605C231.024 75.3237 210.26 100.29 197.004 121.808C184.673 141.827 177 168.833 172.421 191.182C170.145 202.292 168.658 212.125 167.74 219.175C167.282 222.698 166.966 225.522 166.766 227.458C166.666 228.425 166.595 229.171 166.549 229.67C166.526 229.92 166.509 230.108 166.498 230.232L166.487 230.368L166.484 230.4L166.483 230.406C166.483 230.406 166.483 230.406 161.5 230C156.517 229.594 156.517 229.593 156.517 229.591L156.518 229.575L156.522 229.531L156.536 229.368C156.548 229.228 156.566 229.022 156.591 228.754C156.64 228.219 156.715 227.436 156.819 226.428C157.028 224.414 157.353 221.503 157.824 217.885C158.765 210.651 160.289 200.573 162.625 189.175C164.752 178.793 167.572 167.209 171.28 155.632Z" fill="black"/>
<path d="M279.5 244.5L315 245.5V154L301 200.5L279.5 244.5Z" fill="black" fill-opacity="0.5"/>
<path d="M165.198 201.707C161.326 212.259 159.937 210.865 159.937 210.865V117.324L172.47 151C172.47 151 171.686 184.025 165.198 201.707Z" fill="black" fill-opacity="0.5"/>
<path d="M300.992 50.0913L315.32 100.279V20.5913L281.492 18.5913L300.992 50.0913Z" fill="black" fill-opacity="0.5"/>
</svg>
{% endif %}
{% endfor %}
{% endfor %}
</svg>
